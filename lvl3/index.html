<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nivel 3 - Coordenadas Cartesianas</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="cyber-grid"></div>
    <div class="scan-line"></div>

    <div class="container">
        <header class="header">
            <div class="logo-terminal">
                <span class="terminal-prompt">></span>
                <h1 class="cyber-title">NIVEL <span class="code-symbol">3</span> - COORDENADAS CARTESIANAS</h1>
                <!-- Botón invisible para configurar códigos -->
                <button id="config-code-btn" class="config-code-btn" title="Configurar códigos"></button>
            </div>
            <p class="subtitle">
                Arrastra las imágenes a las coordenadas correctas para formar una <span class="code-operator">FIGURA</span>
            </p>
        </header>

        <section class="panel-glow code-panel">
            <div class="panel-header">
                <div class="status-indicator"></div>
                <h2 class="panel-title">Código Actual</h2>
            </div>
            <div class="panel-content code-panel-content">
                <p class="code-instruction">Coloca los puntos correctos para revelar el código.</p>
                
                <div id="code-slots" class="code-slots">• • •</div>
            </div>
        </section>

        <!-- Cuadrícula Cartesiana con Paneles Laterales -->
        <div class="panel-glow">
            <div class="panel-header">
                <div class="status-indicator"></div>
                <h2 class="panel-title">Cuadrícula Cartesiana</h2>
            </div>
            <div class="panel-content grid-layout-container">
                <!-- Panel de Puntos (Izquierda) -->
                <div class="side-panel side-panel-left">
                    <div class="side-panel-header">
                        <div class="status-indicator"></div>
                        <h3 class="side-panel-title">Puntos Disponibles</h3>
                        <span class="data-count" id="images-count">6</span>
                    </div>
                    <div class="side-panel-content">
                        <div class="points-container" id="points-container" data-pool="true">
                            <!-- Los puntos se cargarán aquí con JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Cuadrícula (Centro) -->
                <div class="grid-center-panel">
                    <div id="grid-container" class="grid-container">
                        <!-- La cuadrícula se generará con JavaScript -->
                    </div>
                </div>

                <!-- Panel de Coordenadas (Derecha) -->
                <div class="side-panel side-panel-right">
                    <div class="side-panel-header">
                        <div class="status-indicator"></div>
                        <h3 class="side-panel-title">Coordenadas Objetivo</h3>
                        <span class="data-count" id="coords-count">0/6</span>
                    </div>
                    <div id="coordinates-list" class="coordinates-list">
                        <!-- Las coordenadas se mostrarán aquí -->
                    </div>
                </div>
            </div>
        </div>

        <div class="next-level-container">
            <button id="next-level-btn" class="next-level-btn">PRÓXIMO NIVEL 4</button>
        </div>
    </div>

    <div id="level-modal" class="modal-overlay" aria-hidden="true">
        <div class="level-modal-content">
            <div class="level-modal-header">
                <h3 class="level-modal-title">Ingresa el código</h3>
                <button class="level-modal-close" id="level-modal-close" type="button" aria-label="Cerrar">×</button>
            </div>
            <div class="level-modal-body">
                <div class="keyboard-container">
                    <div class="keyboard-display">
                        <input type="text" id="keyboard-input" readonly placeholder="0" />
                    </div>
                    <div class="keyboard-grid">
                        <button class="keyboard-btn num-btn" data-number="1">1</button>
                        <button class="keyboard-btn num-btn" data-number="2">2</button>
                        <button class="keyboard-btn num-btn" data-number="3">3</button>
                        <button class="keyboard-btn num-btn" data-number="4">4</button>
                        <button class="keyboard-btn num-btn" data-number="5">5</button>
                        <button class="keyboard-btn num-btn" data-number="6">6</button>
                        <button class="keyboard-btn num-btn" data-number="7">7</button>
                        <button class="keyboard-btn num-btn" data-number="8">8</button>
                        <button class="keyboard-btn num-btn" data-number="9">9</button>
                        <button class="keyboard-btn delete-btn" data-action="delete">✖</button>
                        <button class="keyboard-btn num-btn" data-number="0">0</button>
                        <button class="keyboard-btn confirm-btn" data-action="confirm">✔</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para configurar códigos -->
    <div id="config-code-modal" class="modal-overlay" aria-hidden="true">
        <div class="level-modal-content">
            <div class="level-modal-header">
                <h3 class="level-modal-title">Establecer Código</h3>
                <button class="level-modal-close" id="config-code-modal-close" type="button" aria-label="Cerrar">×</button>
            </div>
            <div class="level-modal-body">
                <div class="config-code-container">
                    <p class="config-code-instruction">Configura el código de 3 dígitos para la figura actual:</p>
                    <p id="current-figure-name" class="current-figure-name"></p>
                    
                    <div class="code-config-item">
                        <input type="text" id="code-input" maxlength="3" inputmode="numeric" placeholder="123" />
                    </div>
                    
                    <div class="config-code-actions">
                        <button id="save-codes-btn" class="keyboard-btn confirm-btn">Guardar</button>
                        <button id="cancel-codes-btn" class="keyboard-btn delete-btn">Cancelar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="scripts/script.js"></script>
</body>
</html>

